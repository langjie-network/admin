<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <title>兑换礼品</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <%- include("../includes/styles.ejs") %>
    <link rel="stylesheet" href="../styles/responsive.css">
    <link rel="stylesheet" href="../styles/member_message.css">
    <style>
        * {
            box-sizing: border-box;
        }
        .warp {
            display: flex;
            flex-wrap: wrap;
        }
        .goods-wrap {
            flex-basis: 50%;
            height: 15rem;
            padding: 1rem;
            padding-bottom: 0px;
        }
        .goods-wrap:nth-child(odd) {
            padding-right: 0.5rem;
        }
        .goods-wrap:nth-child(even) {
            padding-left: 0.5rem;
        }
        .goods-item {
            width: 100%;
            height: 100%;
            border: 1px solid #eee;
            padding: 0.5rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .title-bar {
            display: flex;
            justify-content: space-between;
        }
        .album {
            width: 100%;
            height: 9.5rem;
            overflow: hidden;
        }
        .text {
            height: 3rem;
        }
        .album > img {
            width: 100%;
        }
        .goodsName {
            word-break: break-all;
            overflow: hidden;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            text-decoration: none;
            -webkit-line-clamp: 1;
        }
        .description {
            color: #999;
            font-size: 0.8rem;
            word-break: break-all;
            overflow: hidden;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            text-decoration: none;
            -webkit-line-clamp: 2;
        }
        .needScore {
            color: #f60;
            display: flex;
            justify-content: space-between;
        }
        .needScore a {
            font-size: 0.75rem;
            position: relative;
            top: 0.2rem;
        }
        .originScore {
            color: #999;
            font-size: 0.75rem;
            text-decoration-line: line-through;
        }
    </style>
</head>

<body>
    <div class="warp">
        <% for(var i = 0; i < list.length; i++) { %>
            <div class="goods-wrap" onclick="moreInfo('<%= list[i].id %>')">
                <div class="goods-item">
                    <div class="album">
                        <% if (list[i].album) { %>
                            <img src="../img/notiClient/<%=list[i].album%>">
                        <% } else { %>
                            <img src="../img/default_goods.jpg">
                        <% } %>
                    </div>
                    <% if (list[i].originalScore != list[i].needScore) { %>
                        <div class="text" style="height: 4rem;">
                            <div class="goodsName"><%= list[i].goodsName %></div>
                            <div class="originScore"><%= list[i].originalScore %>元宝分</div>
                            <div class="needScore">
                                <span><%= list[i].needScore %>元宝分</span>
                                <a href="javascript:void(0);">详情</a>
                            </div>
                        </div>
                    <% } else { %>
                        <div class="text">
                            <div class="goodsName"><%= list[i].goodsName %></div>
                            <div class="needScore">
                                <span><%= list[i].needScore %>元宝分</span>
                                <a href="javascript:void(0);">详情</a>
                            </div>
                        </div>
                    <% } %>
                </div>
            </div>
        <% } %>
    </div>
</body>
<%- include("../includes/scripts.ejs") %>
<script>
    function moreInfo(id) {
        window.location.href = route('member/exchangeGoodsInfo/' + id);
    }
</script>
</html>